{
  "description": "DIAC-1461 Update Case Mark Detained Other AiP Digital",

  "request": {
    "uri": "/asylum/ccdAboutToSubmit",
    "credentials": "AdminOfficer",
    "input": {
      "eventId": "markAppealAsDetained",
      "state": "appealSubmitted",
      "caseData": {
        "template": "minimal-appeal-submitted.json",
        "replacements": {
          "prisonNOMSNumberAo": {
            "prison": "123456"
          },
          "dateCustodialSentenceAo": {
            "custodialDate": "2025-01-01"
          },
          "detentionFacility": "other",
          "appellantAddress": {
            "AddressLine1": "123 Main Street",
            "AddressLine2": "Flat 1",
            "PostTown": "London",
            "County": "Greater London",
            "PostCode": "E1 6AN"
          },
          "appellantHasFixedAddress": "Yes",
          "contactPreference": "wantsEmail",
          "email": "test@test.com",
          "mobileNumber": "07444445555",
          "detentionRemovalReason": "some reason",
          "detentionRemovalDate": "2025-01-02",
          "journeyType": "aip",
          "appellantInDetention": "No",
          "isAdmin": "No",
          "appellantsRepresentation": "No"
        }
      }
    }
  },
  "expectation": {
    "status": 200,
    "errors": [],
    "caseData": {
      "template": "minimal-appeal-submitted.json",
      "replacements": {
        "appealType": "protection",
        "sendDirectionActionAvailable": "Yes",
        "mobileNumber": null,
        "prisonNOMSNumber": {
          "prison": "123456"
        },
        "releaseDate": {
          "custodialDate": "2025-01-01"
        },
        "appellantAddress": {
          "AddressLine1": "123 Main Street",
          "AddressLine2": "Flat 1",
          "PostTown": "London",
          "County": "Greater London",
          "PostCode": "E1 6AN"
        },
        "appellantHasFixedAddress": null,
        "contactPreference": null,
        "email": null,
        "mobileNumber": null,
        "detentionRemovalReason": null,
        "detentionRemovalDate": null,
        "journeyType": null,
        "appellantInDetention": "Yes",
        "isAdmin": "Yes",
        "appellantsRepresentation": "Yes",
        "appellantLevelFlags": {
          "partyName": null,
          "roleOnCase": null,
          "details": [
            {
              "id": "$/[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-Ff]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}/",
              "value": {
                "name": "Detained individual",
                "flagCode": "PF0019",
                "status": "Active",
                "hearingRelevant": "Yes"
              }
            }
          ]
        }
      }
    }
  }
}
