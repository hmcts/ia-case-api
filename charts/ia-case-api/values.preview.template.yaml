java:
  image: ${IMAGE_NAME}
  ingressHost: ${SERVICE_FQDN}
  environment:
    POSTGRES_HOST: ${SERVICE_NAME}-postgresql
    POSTGRES_NAME: ia-case-api
    POSTGRES_USERNAME: hmcts
    POSTGRES_PASSWORD: hmcts
    POSTGRES_CONNECTION_OPTIONS: ""
    #Un comment APIs if you need to test a local version
    IA_CASE_DOCUMENTS_API_URL: "http://ia-case-documents-api-aat.service.core-compute-aat.internal" 
    IA_CASE_NOTIFICATIONS_API_URL: "http://ia-case-notifications-api-aat.service.core-compute-aat.internal" 
    IA_CASE_PAYMENTS_API_URL: "http://ia-case-payments-api-aat.service.core-compute-aat.internal" 
    IA_HOME_OFFICE_INTEGRATION_API_URL: "http://ia-home-office-integeration-api-aat.service.core-compute-aat.internal" 
    IA_TIMED_EVENT_SERVICE_URL: "http://ia-timed-event-service-aat.service.core-compute-aat.internal/"
    IA_TIMED_EVENT_SERVICE_ENABLED: "true"
    IA_HOME_OFFICE_INTEGRATION_ENABLED: "true"
    IA_IDAM_REDIRECT_URI: "https://ia-case-api-aat.service.core-compute-aat.internal/oauth2/callback"
    CCD_URL: "http://{{ .Release.Name }}-ccd-data-store-api"
    CCD_GW_URL: "http://dm-store-aat.service.core-compute-aat.internal"
    DM_URL: "http://dm-store-aat.service.core-compute-aat.internal"
    IDAM_URL: "https://idam-web-public.aat.platform.hmcts.net"
    OPEN_ID_IDAM_URL: "https://idam-web-public.aat.platform.hmcts.net"
    S2S_URL: "http://rpe-service-auth-provider-aat.service.core-compute-aat.internal"
    IS_SAVE_AND_CONTINUE_ENABLED: "false"
    ROLE_ASSIGNMENT_URL: "http://am-role-assignment-service-aat.service.core-compute-aat.internal"
    CASE_DOCUMENT_AM_URL: http://${SERVICE_NAME}-ccd-case-document-am-api
    CCD_DEFINITION_STORE_API_BASE_URL: "https://ccd-definition-store-{{ .Release.Name }}.preview.platform.hmcts.net"
  keyVaults:
    ia:
      secrets:
        - docmosis-enabled
        - em-stitching-enabled
        - submit-hearing-requirements-enabled
        - system-username
        - system-password
        - idam-client-id
        - idam-secret
        - s2s-secret
        - s2s-microservice
        - prof-ref-data-url
        - docmosis-enabled
        - em-stitching-enabled
        - launch-darkly-sdk-key
        - app-insights-connection-string
        - ia-config-validator-secret
  postgresql:
    enabled: true
    image:
      tag: '11.6.0'
    primary:
      persistence:
        enabled: false
      resources:
        requests:
          cpu: 25m
      initdb:
        scripts:
          init.sql: |
            CREATE DATABASE "ia-case-api" WITH OWNER = hmcts ENCODING = 'UTF-8' CONNECTION LIMIT = -1;
    auth:
      username: hmcts
      password: hmcts
