java:
  image: ${IMAGE_NAME}
  ingressHost: ${SERVICE_FQDN}
  devcpuRequests: 500m
  devmemoryRequests: 1Gi
  devcpuLimits: 2
  devmemoryLimits: 4Gi
  environment:
    POSTGRES_HOST: ${SERVICE_NAME}-postgresql
    POSTGRES_NAME: ia-case-api
    POSTGRES_USERNAME: hmcts
    POSTGRES_PASSWORD: hmcts
    POSTGRES_CONNECTION_OPTIONS: ""
    #Un comment APIs if you need to test a local version
    IA_CASE_DOCUMENTS_API_URL: https://ia-case-documents-api.aat.service.core-compute-aat.internal
    IA_CASE_NOTIFICATIONS_API_URL: https://ia-case-notifications-api.aat.service.core-compute-aat.internal
    IA_CASE_PAYMENTS_API_URL: https://ia-case-payments-api.aat.service.core-compute-aat.internal
    IA_HOME_OFFICE_INTEGRATION_API_URL: https://ia--home-office-integration-api.aat.service.core-compute-aat.internal
    IA_TIMED_EVENT_SERVICE_URL: "http://ia-timed-event-service-aat.service.core-compute-aat.internal/"
    IA_TIMED_EVENT_SERVICE_ENABLED: "true"
    IA_HOME_OFFICE_INTEGRATION_ENABLED: "true"
    IA_IDAM_REDIRECT_URI: "https://ia-case-api-aat.service.core-compute-aat.internal/oauth2/callback"
    CCD_URL: "http://ccd-data-store-api-aat.service.core-compute-aat.internal"
    CCD_GW_URL: "http://dm-store-aat.service.core-compute-aat.internal"
    DM_URL: "http://dm-store-aat.service.core-compute-aat.internal"
    IDAM_URL: "https://idam-web-public.aat.platform.hmcts.net"
    OPEN_ID_IDAM_URL: "https://idam-web-public.aat.platform.hmcts.net"
    S2S_URL: "http://rpe-service-auth-provider-aat.service.core-compute-aat.internal"
    IS_SAVE_AND_CONTINUE_ENABLED: "false"
    ROLE_ASSIGNMENT_URL: "http://am-role-assignment-service-aat.service.core-compute-aat.internal"
    CASE_DOCUMENT_AM_URL: "http://ccd-case-document-am-api-aat.service.core-compute-aat.internal"
    AAC_URL: http://aac-manage-case-assignment-aat.service.core-compute-aat.internal
    CCD_DEFINITION_STORE_API_BASE_URL: "http://ccd-definition-store-api-aat.service.core-compute-aat.internal"
    LOCATION_REF_DATA_URL: "http://rd-location-ref-api-aat.service.core-compute-aat.internal"
    DUMMY: true
  keyVaults:
    ia:
      resourceGroup: ia
      secrets:
        - name: docmosis-enabled
          alias: IA_DOCMOSIS_ENABLED
        - name: em-stitching-enabled
          alias: IA_EM_STITCHING_ENABLED
        - name: submit-hearing-requirements-enabled
          alias: IA_SUBMIT_HEARING_REQUIREMENTS_ENABLED
        - name: system-username
          alias: IA_SYSTEM_USERNAME
        - name: system-password
          alias: IA_SYSTEM_PASSWORD
        - name: idam-client-id
          alias: IA_IDAM_CLIENT_ID
        - name: idam-secret
          alias: IA_IDAM_SECRET
        - name: s2s-secret
          alias: idam.s2s-auth.totp_secret
        - name: s2s-microservice
          alias: IA_S2S_MICROSERVICE
        - name: idam-url
          alias: IDAM_URL
        - name: s2s-url
          alias: S2S_URL
        - name: prof-ref-data-url
          alias: PROF_REF_DATA_URL
        - name: launch-darkly-sdk-key
          alias: LAUNCH_DARKLY_SDK_KEY
        - name: case-api-POSTGRES-PASS-15
          alias: spring.datasource.password
        - name: app-insights-connection-string
          alias: app-insights-connection-string
        - name: postgres-auth-values-password
          alias: PG_AUTH_VALUES_YAML_PASS
        - name: hearing-centre-activation-date-bradford
          alias: IA_HEARING_CENTRE_ACTIVATION_DATE_BRADFORD
        - name: hearing-centre-activation-date-manchester
          alias: IA_HEARING_CENTRE_ACTIVATION_DATE_MANCHESTER
        - name: hearing-centre-activation-date-newport
          alias: IA_HEARING_CENTRE_ACTIVATION_DATE_NEWPORT
        - name: hearing-centre-activation-date-taylor-house
          alias: IA_HEARING_CENTRE_ACTIVATION_DATE_TAYLOR_HOUSE
        - name: hearing-centre-activation-date-north-shields
          alias: IA_HEARING_CENTRE_ACTIVATION_DATE_NORTH_SHIELDS
        - name: hearing-centre-activation-date-birmingham
          alias: IA_HEARING_CENTRE_ACTIVATION_DATE_BIRMINGHAM
        - name: hearing-centre-activation-date-hatton-cross
          alias: IA_HEARING_CENTRE_ACTIVATION_DATE_HATTON_CROSS
        - name: hearing-centre-activation-date-glasgow
          alias: IA_HEARING_CENTRE_ACTIVATION_DATE_GLASGOW
        - name: AppInsightsInstrumentationKey
          alias: azure.application-insights.instrumentation-key
        - name: app-insights-connection-string
          alias: app-insights-connection-string
  postgresql:
    enabled: true
    image:
      tag: '11.6.0'
    primary:
      persistence:
        enabled: false
      resources:
        requests:
          cpu: 25m
      initdb:
        scripts:
          init.sql: |
            CREATE DATABASE "ia-case-api" WITH OWNER = hmcts ENCODING = 'UTF-8' CONNECTION LIMIT = -1;
    auth:
      username: hmcts
      password: hmcts

